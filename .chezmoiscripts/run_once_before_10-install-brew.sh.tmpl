#!/usr/bin/env bash
set -euo pipefail

OS="$(uname -s)"
ARCH="$(uname -m)"

echo "üöÄ Installing Homebrew for $OS ($ARCH)..."

if [[ "$OS" == "Darwin" && "$ARCH" == "arm64" ]]; then
    BREW_PREFIX="/opt/homebrew"
elif [[ "$OS" == "Linux" ]]; then
    BREW_PREFIX="/home/linuxbrew/.linuxbrew"
fi

if ! command -v "$BREW_PREFIX/bin/brew"; then
    echo "üç∫ Installing Homebrew..."
    NONINTERACTIVE=1 /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
else
    echo "‚úÖ Homebrew already installed."
fi

echo "‚úÖ Successfully installed Homebrew!"
